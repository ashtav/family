(window.webpackJsonp=window.webpackJsonp||[]).push([[2,5],{403:function(t,e,o){var content=o(405);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(17).default)("0836a539",content,!0,{sourceMap:!1})},404:function(t,e,o){"use strict";o(403)},405:function(t,e,o){var r=o(16)(!1);r.push([t.i,".backdrop[data-v-373e2f8e]{position:fixed;background:rgba(0,0,0,.5);width:100%;left:0;top:0;height:100%;z-index:1040}.modal-header[data-v-373e2f8e]{background:#fff;border-bottom:1px solid #eee;padding:15px 12px 15px 20px;display:flex;align-items:center}.modal-footer[data-v-373e2f8e]{border:none}.modal-close[data-v-373e2f8e]{border:none;background:none;color:#999}.modal-close[data-v-373e2f8e]:hover{color:#666}.modal-dialog-scrollable .modal-content[data-v-373e2f8e]{overflow:hidden}.modal-dialog-scrollable .modal-content .modal-body[data-v-373e2f8e]{overflow:auto;max-height:calc(100vh - 220px)}",""]),t.exports=r},406:function(t,e,o){"use strict";o.r(e);o(39),o(27),o(28),o(11),o(48),o(33),o(49);var r=o(18),n=(o(70),o(83),o(59),o(26));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var c={props:{id:{type:String,default:""},title:{type:String,default:"Modal Title"},size:{type:String,default:"modal-md"}},data:function(){return{active:!1,display:"none",backdrop:!1}},methods:{dismiss:function(t){t.target.closest(".modal-content")&&!t.target.parentElement.classList.contains("modal-close")||this.modal(this.id)}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(n.d)("modal",{ids:function(t){return t.actives}})),watch:{ids:function(t){var e=this;t.includes(this.id)?(this.display="block",this.backdrop=!0,setTimeout((function(){e.active=!0}),150)):(this.active=!1,this.backdrop=!1,setTimeout((function(){e.display="none"}),100))}}},d=c,f=(o(404),o(20)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"modal fade",class:t.active?"show":"",style:{display:t.display},on:{click:t.dismiss}},[o("div",{staticClass:"modal-dialog modal-dialog-scrollable modal-dialog-centered",class:t.size,attrs:{role:"document"}},[o("div",{staticClass:"modal-content flat-style"},[o("div",{staticClass:"modal-header"},[o("h5",{staticClass:"modal-title",domProps:{textContent:t._s(t.title)}}),t._v(" "),t._m(0)]),t._v(" "),o("div",{staticStyle:{background:"#fafbfc","border-radius":"2px"}},[t._t("default")],2)])])]),t._v(" "),o("Transition",[t.backdrop?o("div",{staticClass:"backdrop"}):t._e()])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"modal-close",attrs:{type:"button"}},[e("i",{staticClass:"la la-lg la-close"})])}],!1,null,"373e2f8e",null);e.default=component.exports},420:function(t,e,o){"use strict";o.r(e);o(39),o(27),o(28),o(11),o(48),o(33),o(49);var r=o(6),n=o(18),l=(o(50),o(40),o(26));function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={data:function(){return{forms:{submitting:!1,filename:null},formData:{photo:null}}},computed:d({},Object(l.d)("users",{user:function(t){return t.user_details}})),methods:d(d({},Object(l.b)("users",["changePhoto"])),{},{_onFileChange:function(t){var e=this,o=t.target.files[0];if(null!=o){this.$refs.file.value="";if(o.size>3072e3)this.toastr("Invalid","Maksimal ukuran foto adalah 3 MB.","warning");else if(-1!==o.type.indexOf("image/"))if("function"==typeof FileReader){var r=new FileReader;r.onload=function(t){e.formData.photo=t.target.result,e.forms.filename=o.name},r.readAsDataURL(o)}else this.toastr("Invalid","Browser anda tidak support FileReader","warning");else this.toastr("Invalid","Format tidak valid.","warning")}},_submit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var o,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.forms.submitting=!0,o=t.base64ToFile(t.formData.photo,"file.jpg"),(r=new FormData).append("photo",o),r.append("_method","PUT"),e.next=7,t.changePhoto({id:t.user.id,data:r});case 7:e.sent&&(t.modal("change-avatar"),t.toastr("Good!","Foto profil berhasil diperbarui.","success")),t.forms.submitting=!1;case 10:case"end":return e.stop()}}),e)})))()}})},m=o(20),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("Modal",{attrs:{id:"change-avatar",title:"Perbarui Foto Profil"}},[r("form",{on:{submit:function(e){return e.preventDefault(),t._submit.apply(null,arguments)}}},[r("div",{staticClass:"modal-body text-center"},[r("div",{staticClass:"avatar my-3"},[r("img",{staticStyle:{"object-fit":"cover"},attrs:{src:t.formData.photo||t.user.photo||o(224),alt:"avatar",height:"260",width:"260"}})]),t._v(" "),r("br"),t._v(" "),r("input",{ref:"file",staticClass:"d-none",attrs:{type:"file",accept:".png,.jpg,.jpeg"},on:{change:t._onFileChange}}),t._v(" "),r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button"},on:{click:function(e){return t.$refs.file.click()}}},[r("i",{staticClass:"la la-lg la-image mr-50"}),t._v(" Pilih Foto\n        ")]),t._v(" "),r("div",{staticClass:"text-muted mt-2",domProps:{textContent:t._s(t.forms.filename||"Tidak ada foto yang dipilih")}})]),t._v(" "),r("div",{staticClass:"modal-footer"},[r("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal",disabled:t.forms.submitting},on:{click:function(e){return t.modal("change-avatar")}}},[t._v("\n          Batal\n        ")]),t._v(" "),r("button",{staticClass:"btn btn-primary",attrs:{disabled:t.forms.submitting||null==t.formData.photo},domProps:{textContent:t._s(t.forms.submitting?"Menyimpan...":"Simpan")}})])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Modal:o(406).default})}}]);